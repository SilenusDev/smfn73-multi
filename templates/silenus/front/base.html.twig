<!DOCTYPE html>
<html lang="{% block lang %}fr{% endblock %}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ app.request.getSchemeAndHttpHost() }}/build/img/gen/logo.ico" />
    
    <title>{% block title %}Silenus{% endblock %}</title>
    
    {# SEO Meta Tags #}
    <meta name="description" content="{% block description %}Plateforme moderne construite avec Symfony 7.3{% endblock %}"/>
    <meta name="author" content="{% block author %}Team Silenus{% endblock %}"/>
    <meta name="keywords" content="{% block keywords %}silenus, symfony, multisite{% endblock %}"/>
    <link rel="canonical" href="{% block canonical %}{{ app.request.uri }}{% endblock %}"/>
    
    {# Open Graph Meta Tags #}
    <meta property="og:title" content="{% block og_title %}{{ block('title') }}{% endblock %}"/>
    <meta property="og:description" content="{% block og_description %}{{ block('description') }}{% endblock %}"/> 
    <meta property="og:image" content="{% block og_image %}{{ app.request.getSchemeAndHttpHost() }}/build/img/gen/og-default.jpg{% endblock %}"/>
    {# jpeg paysage 1200x630 #}
    <meta property="og:url" content="{% block og_url %}{{ app.request.uri }}{% endblock %}"/>
    <meta property="og:type" content="{% block og_type %}website{% endblock %}"/>
    <meta property="og:locale" content="{% block og_locale %}fr_FR{% endblock %}"/>
    {# types : website, article, book, profile, video, music, quiz, game, product, app, event, group, blog, object, author #}
    <meta property="og:author" content="Team Silenus">
    <meta property="og:site_name" content="Silenus">
    
    {# SEO Robots #}
    <link rel="robots" href="{{ app.request.getSchemeAndHttpHost() }}/robots.txt">
    <meta name="robots" content="{% block robots %}index,follow{% endblock %}"> 
    {# index,follow | noindex,follow | noindex,nofollow #}
    <link rel="sitemap" href="{{ app.request.getSchemeAndHttpHost() }}/sitemap.xml">
    
    {# AI SEO - Meta tags for AI crawlers #}
    <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="chatgpt" content="index">
    <meta name="ai-content-declaration" content="ai-generated=false">
    
    {# Schema.org JSON-LD for AI understanding #}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "{% block schema_type %}WebSite{% endblock %}",
        "name": "Silenus",
        "url": "{{ app.request.getSchemeAndHttpHost() }}",
        "description": "{{ block('description') }}",
        "inLanguage": "fr-FR",
        "author": {
            "@type": "Organization",
            "name": "Team Silenus"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Silenus",
            "logo": {
                "@type": "ImageObject",
                "url": "{{ app.request.getSchemeAndHttpHost() }}/build/img/gen/logo.png"
            }
        }
    }
    </script>
    
    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}
</head>
<body class="site-slns min-h-screen bg-gradient-to-br from-dark-950 via-dark-900 to-dark-950">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header with glassmorphism -->
        <header class="glass-lg rounded-2xl p-6 mb-8 animate-fade-in">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <h1 class="text-4xl font-bold text-primary flex items-center gap-3">
                    <i data-lucide="moon" class="w-12 h-12 text-slns-primary-400"></i>
                    <span class="bg-gradient-to-r from-slns-primary-400 to-slns-primary-600 bg-clip-text text-transparent">
                        Silenus
                    </span>
                </h1>
                
                <nav class="flex gap-3 flex-wrap">
                    <a href="{{ path('slns_home') }}" class="glass-hover px-4 py-2 rounded-lg text-gray-200 hover:text-slns-primary-400 transition-colors">
                        Accueil
                    </a>
                    <a href="{{ path('slns_about') }}" class="glass-hover px-4 py-2 rounded-lg text-gray-200 hover:text-slns-primary-400 transition-colors">
                        À propos
                    </a>
                    {% if app.user %}
                        <div class="glass px-4 py-2 rounded-lg text-slns-primary-400 font-medium">
                            {{ app.user.email }}
                        </div>
                        <a href="{{ path('slns_logout') }}" class="btn-primary">
                            Déconnexion
                        </a>
                    {% else %}
                        <a href="{{ path('slns_login') }}" class="glass-hover px-4 py-2 rounded-lg text-gray-200 hover:text-slns-primary-400 transition-colors">
                            Connexion
                        </a>
                        <a href="{{ path('slns_register') }}" class="btn-primary">
                            Inscription
                        </a>
                    {% endif %}
                </nav>
            </div>
        </header>

        <!-- Main content -->
        <main class="glass-lg rounded-2xl p-8 mb-8 animate-slide-up">
            <!-- Flash messages -->
            {% for message in app.flashes('success') %}
                <div class="glass border-green-500/30 bg-green-500/10 text-green-400 px-6 py-4 rounded-lg mb-6 animate-fade-in">
                    <div class="flex items-center gap-3">
                        <i data-lucide="check-circle" class="w-6 h-6"></i>
                        <span>{{ message }}</span>
                    </div>
                </div>
            {% endfor %}
            
            {% for message in app.flashes('error') %}
                <div class="glass border-red-500/30 bg-red-500/10 text-red-400 px-6 py-4 rounded-lg mb-6 animate-fade-in">
                    <div class="flex items-center gap-3">
                        <i data-lucide="alert-circle" class="w-6 h-6"></i>
                        <span>{{ message }}</span>
                    </div>
                </div>
            {% endfor %}

            {% block body %}{% endblock %}
        </main>

        <!-- Footer -->
        <footer class="text-center text-gray-400 py-6">
            <p class="text-sm">
                &copy; {{ "now"|date("Y") }} <span class="text-slns-primary-400 font-semibold">Silenus</span> - Tous droits réservés
            </p>
        </footer>
    </div>

    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
    {% endblock %}
</body>
</html>
